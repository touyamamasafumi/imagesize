<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <title>画像サイズ取得</title>
    <link rel="stylesheet" href="assets/css/master.css">
    <script type="text/javascript">
        // function test(){
        //   var obj = document.getElementById('file');
        //
        //   var nw = obj.naturalWidth;   //元サイズ（幅）
        //   var nh = obj.naturalHeight;  //元サイズ（高さ）
        //
        //   var str = `サイズ：${nw}x${nh}です。`;
        //   alert(str);
        // };

          function fileload() {
            if ( ! file.files[0] ){
              return;
            }
            image = new Image();
            image.onload = function() {
              result = { width: image.naturalWidth, height: image.naturalHeight};
              target = document.getElementById("w_output");
              target.innerHTML = image.naturalWidth;
              target = document.getElementById("h_output");
              target.innerHTML = image.naturalHeight;
            }
          image.src = URL.createObjectURL(file.files[0]);
        }

    </script>
  </head>
  <body>
    <h1>画像サイズ取得</h1>
    <input type="file" id="file" onchange="fileload()">
    <!-- <input type="button" value="ボタン" onclick="fileload()"> -->
    <p id="w_output"></p>
    <p id="h_output"></p>
  </body>
</html>